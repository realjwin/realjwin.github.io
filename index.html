<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>FA14 EECS 451 - Class Project</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/grayscale.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome-4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
    <nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">
                    <i class="fa fa-play-circle"></i>  <span class="light">Start</span> Over
                </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-right navbar-main-collapse" >
                <ul class="nav navbar-nav">
                    <!-- Hidden li included to remove active class from about link when scrolled up past about section -->
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#about">About</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#download">Project</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#reference">References</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Intro Header -->
    <header class="intro">
        <div class="intro-body">
            <div class="container">
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <h1 class="brand-heading">Image Deblurring Basics</h1>
                        <p class="intro-text">A class project for EECS 451 that explores the topic of image deblurring.</p>
                        <a href="#about" class="btn btn-circle page-scroll">
                            <i class="fa fa-angle-double-down animated"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>About Image Deblurring</h2>
                <p>Image deblurring at its basics is taking any image that is not sharply focused and processing it to make it more clear to the viewer. Restoring an image that is &quot;blurred&quot; is one of the most highly publicized parts of image processing. There are several different kinds of image distortions that occur when you take a picture: noise, incorrect focusing, white balance error, exposure error, lens distortion, motion blur, and more. Most people would like their photos to come out sharp and focused, so that viewers can easily see what the photo is about. In our project we will focus mostly on incorrect focusing blur and motion blur. Most of the other distortions are well known and correctly, but the deblurring of images that are focused incorrectly or have camera movement is still very much in development. We will mostly explore incorrect focus and various techniques currently available to deblur images.</p>
            </div>
        </div>
    </section>

    <!-- Project Section -->
    <section id="download" class="content-section text-center">
        <div class="download-section">
            <div class="container">
                <div class="col-lg-8 col-lg-offset-2">
                    <h2>Deblurring Basics</h2>
                    <p>We will begin by talking about what causes blur in an image. We will assume that you have some knowledge about linear systems in time and frequency domain, the Discrete Fourier Transform (DFT), and the use of the FFT.</p>
                    <p>So what causes image blur? The below function outlines the concept of image deblurring:</p>
                    <img style="margin-top: -30px; margin-bottom: 10px" src="img_formula/formula1.jpg" width="334" height="48">
                    <p>In this formula f(x,y) represents the unblurred image coming to the camera CCD, h(x,y) represents the blur kernel, and n(x,y) represents the noise added due to the CCD. Notice that the noise is not convolved with the blur kernel, this is because the noise originates from the random motion of electrons in the camera's CCD array, which cannot be avoided and is not blurred. The noise is additive and Gaussian distributed which means that we don't have to worry about its correlation with the proper image itself (though definitely still have to deal with it!).</p>
                    <p>The blur kernel, also called the point spread function, is caused by improper focusing or by moving the camera while the image is being taken. You can imagine with motion blur, that the pixels in the CCD array have smeared values for what is coming through the lens. There is now one point that has been smeared across multiple pixels. So for each pixel in the CCD we have the sum of multiple pixels in the nearby vicinity. We represent this blur using the point spread function. The advantage of writing the blur in this way is that we can artifically introduce blur by creating our own point spread function (PSF). This allows us to test the effectiveness of different deblurring methods when we know exactly how the image was blurred.</p>

                    <p>The easiest and most obvious way to fix image blur is to look at this formula in the frequency domain (by doing the DFT):</p>
                    <img style="margin-top: -30px; margin-bottom: 10px" src="img_formula/formula2.jpg" width="584" height="48">
                    <p>Then by dividing out by H(w<sub>1</sub>,w<sub>2</sub>), we get:</p>
                    <img style="margin-top: -30px; margin-bottom: 10px" src="img_formula/formula3.jpg" width="331" height="48">
                    <p>That's great because now we have a solution for f(x,y) after doing the inverse DFT...except for one problem. The noise. Normally the human eye cannot detect the amounts of noise that the camera adds, but if H(w<sub>1</sub>,w<sub>2</sub>) has low values in any regions then the noise dominates in this formula and all hope of image recovery is lost.</p>

                    <p>For our first example we took an image and artificially blurred it to show how deblurring basics work. Note that this image had noise when it was taken from the camera, but we applied the blur kernel (or PSF) to the image and the noise, thus for all intents and purposes there is no noise as described in the above equations. Thus by using <i>fft2</i> and <i>ifft2</i> in MATLAB we are able to recover the image exactly.</p>

                    <figure>
                    <img src="img_plot/letter_deblurring_output.jpg" width="719" height="800">
                    <figcaption>Fig1. - Articial blur added to an image and deblurred using basic principles.</figcaption>
                    </figure>

                    <p>As you can see this formula works great (as it should) when there is no noise in the system. In the above figure you can see that for both the motion and disk (which behaves like out-of-focus blur) kernels you cannot read the text, but when restored the image looks great. Below we took the disk kernel and showed what happened if we added Gaussian noise to the image AFTER it had been blurred. With added noise, the use of this basic method of image deblurring fails.</p>

                    <figure>
                    <img src="img_plot/letter_noise_output.jpg" width="1265" height="392" style="margin-left: -300px">
                    <figcaption>Fig2. - Basic deblurring with additive Gaussian noise. The top is the blurred image, and the bottom is the attempted deblurred image.</figcaption>
                    </figure>
                    
                    <p> </p>

                    <h2>Wavelet to the Rescue</h2>

                    <figure>
                    <img src="img_plot/wavelet.jpg" width="833" height="503" style="margin-left: -40px">
                    <figcaption>Fig3. - MATLAB Wavelet Toolbox denoising capabilities.</figcaption>
                    </figure>

                    <p> </p>
                    <p>To overcome obstacles of signal processing (including noise reduction in image processing), a method called the wavelet transform has been developed. In the case of image processing the wavelet transform is superior to the DFT (Discrete Fourier Transform) and the STFT (Short-Time Fourier Transform). The DFT cannot provide information about how the frequencies vary over time. The STFT solves this issue by taking windows of specified length and shifting them across the signal. This creates multiple DFT's of each of these windows and assumes that the signals in theses intervals are approximately time-invariant. There is still an issue with the STFT as one needs to specify a window of a specific length and use it for the duration of the signal. Signals with a varying range of frequencies can be hard to evaluate because of this. Transients as a result of improper windows can cause aliasing and distort the evaluated signal. Wavelets address the issues of fixed window sizes of the STFT. Wavelets allow variable window sizes while analyzing different frequencies. This is possible by scaling a shifting a certain wavelet function. Small scales are used for high frequencies while large scales are used for low frequencies. The figures below demonstrate the effectiveness of the wavelet transform and its role in noise removal. Noise is unavoidable and almost unpredictable in the collection of images. Moreover, as you have seen noise has adverse effects on image deblurring. In this demonstration, noise was exaggerated by the addition of Gaussian white noise to an out of focus image captured by a camera. It was then shown how this noise negatively affects the deblurring of the image. Using the Wavelet Toolbox in MATLAB, the noise was able to be removed. This allowed for a better deblurred image. The one adverse effect of using the Wavelet Toolbox was that the photo became brighter. This however is because of the toolbox used and not the wavelet transform. We did not dive in-depth into the wavelet transform, but rather wanted to experiment with its capabilities. For more information please see the attached MATLAB code in the References section.</p>

                    <h2>Advanced Methods of Image Deblurring</h2>

                    <p>There are several developed methods of image deblurring when you (1) have noise and/or (2) do not know the point spread function. Typically you have both of these things. For the purposes of this section we will be only focusing on images in which we artificially add both noise and blur. This allows us to quantify the abilities of different debluring algorithms without </p>

                    <h2>Real Image Deblurring</h2>

                </div>
            </div>
        </div>
    </section>

    <!-- Reference Section -->
    <section id="reference" class="container content-section text-center">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2">
                <h2>Reference Start Bootstrap</h2>
                <p>Put links to file here as well as link to checkpoints, as well as update checkpoint</p>
                <p>Feel free to email us to provide some feedback on our templates, give us suggestions for new templates and themes, or to just say hello!</p>
                <p><a href="mailto:feedback@startbootstrap.com">feedback@startbootstrap.com</a>
                </p>
                <a href="http://startbootstrap.com/template-overviews/grayscale/" class="btn btn-default btn-lg">Visit Download Page</a>
            </div>
        </div>
    </section>

    <!-- Map Section -->
    <!--<div id="map"></div>-->

    <!-- Footer -->
    <footer>
        <div class="container text-center">
            <p>Copyright &copy; Your Website 2014</p>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="js/jquery.easing.min.js"></script>

    <!-- Google Maps API Key - Use your own API key to enable the map feature. More information on the Google Maps API can be found at https://developers.google.com/maps/ -->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCRngKslUGJTlibkQ3FkfTxj3Xss1UlZDA&sensor=false"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/grayscale.js"></script>

</body>

</html>
